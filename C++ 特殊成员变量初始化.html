<p>C++类中各种不同类型成员根据 static 、const 和类型的初始化方法不尽相同，写代码时经常搞乱，网上搜了一下资料，总结如下。</p>

<p>有些成员变量的数据类型比较特别，它们的初始化方式也和普通数据类型的成员变量有所不同。这些特殊的类型的成员变量包括：
<ul>
    <li>常量型成员变量：如 const int temp;</li>
    <li>引用型成员变量：如 int & temp;</li>
    <li>静态成员变量：如 static int temp;</li>
    <li>整型静态常量成员变量：如 static const int temp;</li>
    <li>非整型静态常量成员变量：如 static const double temp;</li>
</ul></p>

<p>对于常量型成员变量和引用型成员变量的初始化，必须通过构造函数初始化列表的方式进行。在构造函数体内给常量型成员变量和引用型成员变量赋值的方式是行不通的。</p>
<p>静态成员变量的初始化也颇有点特别，是在类外初始化且不能再带有 static 关键字。静态成员属于类作用域，但不属于类对象，和普通的 static 变量一样，程序一运行就分配内存并初始化，生命周期和程序一致。所以，在类的构造函数里初始化 static 变量显然是不合理的。静态成员其实和全局变量地位是一样的，只不过编译器把它的使用限制在类作用域内（不是类对象，它不属于类对象成员），要在类的定义外（不是类作用域外）初始化。</p>
参考下面的代码以及其中注释：
[cpp]
// 特殊成员变量初始化
#include <iostream>
using namespace std;
     
class BClass
{
private:
  int i;                             // 普通成员变量
  
  const int ci;                      // 常量成员变量

  int &ri;                           // 引用成员变量
  
  static int si;                     // 静态成员变量
  //static int si2 = 100;            // error: 只有静态常量成员变量，才可以这样初始化

  static const int csi;              // 静态常量成员变量
  static const int csi2 = 100;       // 静态常量成员变量的初始化(Integral type)    (1)

  static const double csd;           // 静态常量成员变量(non-Integral type)
  //static const double csd2 = 99.9; // error: 只有静态常量整型数据成员才可以在类中初始化

public:
  BClass() : i(1), ci(2), ri(i)  // 对于常量型成员变量和引用型成员变量，必须通过
  {                              // 参数化列表的方式进行初始化。在构造函数体内进行赋值是不行的

  }                                       

};
     
    // 注意下面三行不再带有 static
    // 静态成员变量的初始化(Integral type)
    int BClass::si = 0;

    // 静态常量成员变量的初始化(Integral type)
    const int BClass::csi = 1;

    // 静态常量成员变量的初始化(non-Integral type)
    const double BClass::csd = 99.9;

[/cpp]

<p>由于普通成员变量和常量成员变量，每一个类实例化，都一份内存拷贝。C++规定成员变量在声明（注意声明与定义区别）时，不允许初始化，因此这些变量只能放在构造函数初始化列表中。</br>
静态成员变量所有类实例化，只有一份内存拷贝，不能放在构造函数中初始化， 因为共享一份内存。同时C++规定成员变量在声明（注意声明与定义区别）时，不允许初始化。所以只能定义时初始化。</br>
静态常量成员变量比较特殊化，即不能放在构造函数初始化列表中，也不能定义时初始化，那么只能在声明（注意声明与定义区别）时，初始化。</br>
注意声明与定义简单区别，声明不分配内存，定义分配内存。类没有产生对象，那么成员变量没有分配内存的，所有其成员变量为声明。注意与C语言区别，C语言变量有时即是定义有时声明， 例如int a;</br>
</p>

<p>总结如下：</br>
<ul>
    <li>普通的变量：一般不考虑啥效率的情况下 可以在构造函数中进行赋值。考虑一下效率的可以再构造函数的初始化列表中进行。</li>
    <li>static 静态变量：static变量属于类所有，而不属于类的对象，因此不管类被实例化了多少个对象，该变量都只有一个。在类外进行定义和初始化。</li>
    <li>const 常量变量：const常量需要在声明的时候即初始化。因此需要在变量创建的时候进行初始化。一般采用在构造函数的初始化列表中进行。</li>
    <li>Reference 引用型变量：引用型变量和const变量类似。需要在创建的时候即进行初始化。也是在初始化列表中进行。但需要注意用Reference类型。</li>
    <li>const static integral 变量:对于既是const又是static 而且还是整形变量，C++是给予特权的。可以直接在类的定义中初始化。short可以，但float的不可以。</li>
</ul>
可以初始化的情况有如下四个地方：
<ol>
    <li>在类的定义中进行的，只有const 且 static 且 integral 的变量。</li>
    <li>在类的构造函数初始化列表中， 包括const对象和Reference对象。</li>
    <li>在类的定义之外初始化的，包括static变量。因为它是属于类的唯一变量。</li>
    <li>普通的变量可以在构造函数的内部，通过赋值方式进行。当然这样效率不高。</li>
</ol>
</p>
和 Java 相比真是有点烦人，累觉不爱啊。
<hr />
Reference:
<a href="http://blog.csdn.net/yockie/article/details/7868068">C++中各种类型的成员变量的初始化方法</a>
<a href="http://www.cnblogs.com/zhoug2020/archive/2012/08/31/2665451.html">C++ 类中特殊的成员变量（常变量、引用、静态）的初始化方法</a>